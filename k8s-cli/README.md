# k8s-cli - Simple Kubernetes CLI Tool

–ü—Ä–æ—Å—Ç–æ–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å Kubernetes –∫–ª–∞—Å—Ç–µ—Ä–∞–º–∏, –ø–æ—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º Cobra CLI.

## üéØ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏**: –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –º–µ–∂–¥—É Kubernetes –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏
- **–ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ—Å—É—Ä—Å–æ–≤**: —Å–ø–∏—Å–æ–∫ –ø–æ–¥–æ–≤, –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–æ–≤, —Å–µ—Ä–≤–∏—Å–æ–≤ –∏ namespace'–æ–≤
- **–°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤**: –ø—Ä–∏–º–µ–Ω–µ–Ω–∏–µ YAML —Ñ–∞–π–ª–æ–≤ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Ä–µ—Å—É—Ä—Å–æ–≤
- **–ì–∏–±–∫–∏–π –≤—ã–≤–æ–¥**: –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–æ—Ä–º–∞—Ç–æ–≤ table, JSON –∏ YAML

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞ (—É–∂–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ)
go mod init k8s-cli

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
make deps

# –°–±–æ—Ä–∫–∞ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
make build

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –≤ —Å–∏—Å—Ç–µ–º—É (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
make install
```

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –ü–æ–∫–∞–∑–∞—Ç—å —Å–ø—Ä–∞–≤–∫—É
./bin/k8s-cli --help

# –°–ø–∏—Å–æ–∫ –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
./bin/k8s-cli context list

# –ü–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç
./bin/k8s-cli context set my-cluster

# –°–ø–∏—Å–æ–∫ –ø–æ–¥–æ–≤
./bin/k8s-cli list pods

# –°–ø–∏—Å–æ–∫ –ø–æ–¥–æ–≤ –≤ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–Ω–æ–º namespace
./bin/k8s-cli list pods -n kube-system

# –°–æ–∑–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å –∏–∑ YAML
./bin/k8s-cli apply file examples/pod.yaml
```

## üìã –ö–æ–º–∞–Ω–¥—ã

### –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞–º–∏
- `k8s-cli context list` - –ø–æ–∫–∞–∑–∞—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã
- `k8s-cli context current` - –ø–æ–∫–∞–∑–∞—Ç—å —Ç–µ–∫—É—â–∏–π –∫–æ–Ω—Ç–µ–∫—Å—Ç
- `k8s-cli context set <name>` - –ø–µ—Ä–µ–∫–ª—é—á–∏—Ç—å –∫–æ–Ω—Ç–µ–∫—Å—Ç

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Ä–µ—Å—É—Ä—Å–æ–≤
- `k8s-cli list pods` - —Å–ø–∏—Å–æ–∫ –ø–æ–¥–æ–≤
- `k8s-cli list deployments` - —Å–ø–∏—Å–æ–∫ –¥–µ–ø–ª–æ–π–º–µ–Ω—Ç–æ–≤
- `k8s-cli list services` - —Å–ø–∏—Å–æ–∫ —Å–µ—Ä–≤–∏—Å–æ–≤
- `k8s-cli list namespaces` - —Å–ø–∏—Å–æ–∫ namespace'–æ–≤

### –°–æ–∑–¥–∞–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤
- `k8s-cli apply file <filename>` - —Å–æ–∑–¥–∞—Ç—å —Ä–µ—Å—É—Ä—Å—ã –∏–∑ YAML —Ñ–∞–π–ª–∞

## üõ† –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
make deps

# –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã
make test

# –§–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–æ–¥
make fmt

# –ó–∞–ø—É—Å—Ç–∏—Ç—å –¥–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—é
make demo
```

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
k8s-cli/
‚îú‚îÄ‚îÄ cmd/                    # CLI –∫–æ–º–∞–Ω–¥—ã
‚îú‚îÄ‚îÄ internal/               # –í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–µ –ø–∞–∫–µ—Ç—ã
‚îÇ   ‚îú‚îÄ‚îÄ k8s/               # Kubernetes –∫–ª–∏–µ–Ω—Ç
‚îÇ   ‚îî‚îÄ‚îÄ utils/             # –£—Ç–∏–ª–∏—Ç—ã
‚îú‚îÄ‚îÄ examples/              # –ü—Ä–∏–º–µ—Ä—ã YAML —Ñ–∞–π–ª–æ–≤
‚îú‚îÄ‚îÄ main.go               # –¢–æ—á–∫–∞ –≤—Ö–æ–¥–∞
‚îú‚îÄ‚îÄ go.mod                # Go –º–æ–¥—É–ª—å
‚îî‚îÄ‚îÄ Makefile              # –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è —Å–±–æ—Ä–∫–∏
```

## üîß –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Go 1.21 –∏–ª–∏ –≤—ã—à–µ
- kubectl –Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –∫–ª–∞—Å—Ç–µ—Ä—É
- –î–æ—Å—Ç—É–ø –∫ Kubernetes –∫–ª–∞—Å—Ç–µ—Ä—É

## üìñ –ü—Ä–∏–º–µ—Ä—ã

```bash
# –ü—Ä–æ—Å–º–æ—Ç—Ä –≤—Å–µ—Ö –∫–æ–Ω—Ç–µ–∫—Å—Ç–æ–≤
$ k8s-cli context list
–î–æ—Å—Ç—É–ø–Ω—ã–µ –∫–æ–Ω—Ç–µ–∫—Å—Ç—ã:
  minikube
* kind-cluster (—Ç–µ–∫—É—â–∏–π)
  production

# –°–ø–∏—Å–æ–∫ –ø–æ–¥–æ–≤ –≤ JSON —Ñ–æ—Ä–º–∞—Ç–µ
$ k8s-cli list pods -o json

# –°–æ–∑–¥–∞–Ω–∏–µ –ø–æ–¥–∞ –∏–∑ –ø—Ä–∏–º–µ—Ä–∞
$ k8s-cli apply file examples/pod.yaml
‚úÖ –†–µ—Å—É—Ä—Å—ã —É—Å–ø–µ—à–Ω–æ —Å–æ–∑–¥–∞–Ω—ã –∏–∑ —Ñ–∞–π–ª–∞: examples/pod.yaml
```
